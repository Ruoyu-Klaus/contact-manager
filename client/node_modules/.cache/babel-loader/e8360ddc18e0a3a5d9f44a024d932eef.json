{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruoyuwang/Documents/GitHub/contact-keeper/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ruoyuwang/Documents/GitHub/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ruoyuwang/Documents/GitHub/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import{v4 as uuid}from'uuid';import contactContext from'./contactContext';import contactReducer from'./contactReducer';import{GET_CONTACT,ADD_CONTACT,DELETE_CONTACT,SET_CURRENT,CLEAR_CURRENT,UPDATE_CONTACT,CLEAR_CONTACT,FILTER_CONTACTS,CLEAR_FILTER,CONTACT_ERROR}from'../types';var ContactState=function ContactState(props){var initialState={contacts:null,current:null,filtered:null,error:null};var _useReducer=useReducer(contactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];axios.defaults.baseURL='http://localhost:4000';//GET CONTACT\nvar getContact=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/contacts');case 3:res=_context.sent;dispatch({type:GET_CONTACT,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context.t0.response.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getContact(){return _ref.apply(this,arguments);};}();//ADD CONTACT\nvar addContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.post('/api/contacts',contact,config);case 4:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context2.t0.response.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addContact(_x){return _ref2.apply(this,arguments);};}();//SET CURRENT CONTACT\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};//CLEAR CURRENT CONTACT\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT,payload:null});};//DELETE CONTACT\nvar deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/contacts/\".concat(id));case 3:dispatch({type:DELETE_CONTACT,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context3.t0.response.msg});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteContact(_x2){return _ref3.apply(this,arguments);};}();//UPDATE CONTACT\nvar updateContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;config={headers:{'Content-Type':'application/json'}};_context4.next=4;return axios.put(\"/api/contacts/\".concat(contact._id),contact,config);case 4:res=_context4.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context4.t0.response.msg});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function updateContact(_x3){return _ref4.apply(this,arguments);};}();//CLEAR CONTACTS\nvar clearContact=function clearContact(){dispatch({type:CLEAR_CONTACT});};//FILTER CONTACTS\nvar filterContacts=function filterContacts(text){dispatch({type:FILTER_CONTACTS,payload:text});};//CLEAR FILTER\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};return/*#__PURE__*/React.createElement(contactContext.Provider,{value:{contacts:state.contacts,current:state.current,filtered:state.filtered,error:state.error,getContact:getContact,addContact:addContact,updateContact:updateContact,clearContact:clearContact,deleteContact:deleteContact,setCurrent:setCurrent,clearCurrent:clearCurrent,filterContacts:filterContacts,clearFilter:clearFilter}},props.children);};export default ContactState;","map":{"version":3,"sources":["/Users/ruoyuwang/Documents/GitHub/contact-keeper/client/src/Context/Contact/ContactState.js"],"names":["React","useReducer","axios","v4","uuid","contactContext","contactReducer","GET_CONTACT","ADD_CONTACT","DELETE_CONTACT","SET_CURRENT","CLEAR_CURRENT","UPDATE_CONTACT","CLEAR_CONTACT","FILTER_CONTACTS","CLEAR_FILTER","CONTACT_ERROR","ContactState","props","initialState","contacts","current","filtered","error","state","dispatch","defaults","baseURL","getContact","get","res","type","payload","data","response","msg","addContact","contact","config","headers","post","setCurrent","clearCurrent","deleteContact","id","delete","updateContact","put","_id","clearContact","filterContacts","text","clearFilter","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport { v4 as uuid } from 'uuid';\nimport contactContext from './contactContext';\nimport contactReducer from './contactReducer';\nimport {\n  GET_CONTACT,\n  ADD_CONTACT,\n  DELETE_CONTACT,\n  SET_CURRENT,\n  CLEAR_CURRENT,\n  UPDATE_CONTACT,\n  CLEAR_CONTACT,\n  FILTER_CONTACTS,\n  CLEAR_FILTER,\n  CONTACT_ERROR,\n} from '../types';\n\nconst ContactState = props => {\n  const initialState = {\n    contacts: null,\n    current: null,\n    filtered: null,\n    error: null,\n  };\n\n  const [state, dispatch] = useReducer(contactReducer, initialState);\n\n  axios.defaults.baseURL = 'http://localhost:4000';\n  //GET CONTACT\n  const getContact = async () => {\n    try {\n      const res = await axios.get('/api/contacts');\n\n      dispatch({ type: GET_CONTACT, payload: res.data });\n    } catch (error) {\n      dispatch({ type: CONTACT_ERROR, payload: error.response.msg });\n    }\n  };\n\n  //ADD CONTACT\n  const addContact = async contact => {\n    const config = { headers: { 'Content-Type': 'application/json' } };\n\n    try {\n      const res = await axios.post('/api/contacts', contact, config);\n\n      dispatch({ type: ADD_CONTACT, payload: res.data });\n    } catch (error) {\n      dispatch({ type: CONTACT_ERROR, payload: error.response.msg });\n    }\n  };\n  //SET CURRENT CONTACT\n  const setCurrent = contact => {\n    dispatch({ type: SET_CURRENT, payload: contact });\n  };\n  //CLEAR CURRENT CONTACT\n  const clearCurrent = () => {\n    dispatch({ type: CLEAR_CURRENT, payload: null });\n  };\n  //DELETE CONTACT\n  const deleteContact = async id => {\n    try {\n      await axios.delete(`/api/contacts/${id}`);\n\n      dispatch({ type: DELETE_CONTACT, payload: id });\n    } catch (error) {\n      dispatch({ type: CONTACT_ERROR, payload: error.response.msg });\n    }\n  };\n\n  //UPDATE CONTACT\n  const updateContact = async contact => {\n    try {\n      const config = { headers: { 'Content-Type': 'application/json' } };\n      const res = await axios.put(\n        `/api/contacts/${contact._id}`,\n        contact,\n        config\n      );\n      dispatch({ type: UPDATE_CONTACT, payload: res.data });\n    } catch (error) {\n      dispatch({ type: CONTACT_ERROR, payload: error.response.msg });\n    }\n  };\n\n  //CLEAR CONTACTS\n  const clearContact = () => {\n    dispatch({ type: CLEAR_CONTACT });\n  };\n\n  //FILTER CONTACTS\n  const filterContacts = text => {\n    dispatch({ type: FILTER_CONTACTS, payload: text });\n  };\n  //CLEAR FILTER\n  const clearFilter = () => {\n    dispatch({ type: CLEAR_FILTER });\n  };\n  return (\n    <contactContext.Provider\n      value={{\n        contacts: state.contacts,\n        current: state.current,\n        filtered: state.filtered,\n        error: state.error,\n        getContact,\n        addContact,\n        updateContact,\n        clearContact,\n        deleteContact,\n        setCurrent,\n        clearCurrent,\n        filterContacts,\n        clearFilter,\n      }}\n    >\n      {props.children}\n    </contactContext.Provider>\n  );\n};\nexport default ContactState;\n"]},"metadata":{},"sourceType":"module"}